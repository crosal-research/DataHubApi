#+author: João Maurício Rosal
#+date: 23/03/2021
#+PROPERTY: Method_ALL GET POST PUT DELETE
#+PROPERTY: Object_ALL SERIES TABLES SEARCHES
#+COLUMNS: %40Object(Object) %40Method(Method)

This file is to manage and test the api within emacs in a
plug-and-play manner.

* INFLATION API
** SERIES                                                                  
  :PROPERTIES:
  :Object:   SERIES
  :END:
  
*** GET series
   :PROPERTIES:
   :Method:   GET
   :END:

#+begin_src http :pretty
GET http://127.0.0.1:8000/api/v0.1/inflation?tickers=tbl.ipca15_geral&date_ini=2021-03-01&date_end=2021-05-01
#+end_src


*** POST observations
   :PROPERTIES:
   :Method:   POST
   :END:
   
   
#+header: :var indicator="IPCA15" date="2021-05-01"
#+begin_src http
POST http://127.0.0.1:8000/api/v0.1/inflation
Content-Type: application/json

{
	"date": "${date}",
	"indicator": "${indicator}"

}
#+end_src


*** DELETE obsevations
   :PROPERTIES:
   :Method:   DELETE
   :END:
   

#+header: :var indicator="IPCA15" date="2021-05-01"
#+begin_src http
DELETE http://127.0.0.1:8000/inflation/api/v0.1/
Content-Type: application/json

{
	"indicator": "${indicator}",
	"date": "${date}"
}
#+end_src



** TABLES
  :PROPERTIES:
  :Object:   TABLES
  :END:
  
*** GET TABLES
   :PROPERTIES:
   :Method:   GET
   :END:
   
#+begin_src http :pretty
GET http://96.126.101.177:8000/api/v0.1/inflation/tables?ticker=tbl.ipca_cores
#+end_src

#+RESULTS:
#+begin_example
{
  "ticker": "TBL.IPCA_CORES",
  "description": "TABLE A SER ENVIADA PARA BROADCAST (IPCA)",
  "series": [
    "IPCA.CORE_EXO",
    "IBGE.IPCA/P/ALL/V/63/C315/7169",
    "IPCA.CORE_DIFUSAO",
    "IPCA.CORE_EX1",
    "IPCA.CORE_APARADAS",
    "IPCA.CORE_SERVICOS",
    "IPCA.CORE_DURAVEIS",
    "IPCA.CORE_MONITORADOS",
    "IPCA.SERVICOS",
    "IPCA.CORE_EX2",
    "IPCA.CORE_P55",
    "IPCA.CORE_TRADABLES",
    "IPCA.CORE_APARADAS_SUAVIZADAS",
    "IPCA.CORE_EX3",
    "IPCA.CORE_LIVRES",
    "IPCA.CORE_DP"
  ]
}
#+end_example






*** POST Tables

   :PROPERTIES:
   :Method:   POST
   :END:
   
#+begin_src http
POST http://127.0.0.1:8000/api/v0.1/inflation/tables
Content-Type: application/json

{
	"ticker": "tbl.ipca_cores",
	"description": "Table a ser enviada para Broadcast (IPCA)",
	"series": [
    "IBGE.IPCA/P/ALL/V/63/C315/7169",
	"ipca.core_exo", 
	"ipca.core_ex1", 
	"ipca.core_ex2",
	"ipca.core_ex3",
	"ipca.servicos",
	"ipca.core_servicos",
	"ipca.core_monitorados",
	"ipca.core_livres",
	"ipca.core_duraveis",
	"ipca.core_tradables",
	"ipca.core_aparadas",
	"ipca.core_aparadas_suavizadas",
	"ipca.core_dp",
	"ipca.core_p55", 
    "ipca.core_difusao"]
}
#+end_src

#+RESULTS:
: HTTP/1.1 200 OK
: date: Tue, 04 May 2021 17:13:37 GMT
: server: uvicorn
: content-length: 31
: content-type: application/json
: 
: "Table tbl.ipca_cores created!"


*** PUT observations
   :PROPERTIES:
   :Method:   PUT
   :END:
   
#+begin_src http
PUT http://96.126.101.177:8000/api/v0.1/inflation/tables
Content-Type: application/json

{
	"ticker": "tbl.ipca_cores",
	"description": "Tabela a ser enviada para Broadcast",
	"series": [
    "IBGE.IPCA/P/ALL/V/63/C315/7169",
	"ipca.core_exo", 
	"ipca.core_ex1", 
	"ipca.core_ex2",
	"ipca.core_ex3",
	"ipca.servicos",
	"ipca.core_servicos",
	"ipca.core_monitorados",
	"ipca.core_livres",
	"ipca.core_duraveis",
	"ipca.core_tradables",
	"ipca.core_aparadas",
	"ipca.core_aparadas_suavizadas",
	"ipca.core_dp",
	"ipca.core_p55", 
    "ipca.core_difusao"]
}
#+end_src

#+RESULTS:
: HTTP/1.1 200 OK
: date: Thu, 22 Apr 2021 21:33:29 GMT
: server: uvicorn
: content-length: 34
: content-type: application/json
: 
: "Table tbl.ipca_cores modified!"


*** DELETE Table Tt
   :PROPERTIES:
   :Method:   DELETE
   :END:
   
#+header: :var ticker="tbl.ipcaa5_cores"
#+begin_src http
DELETE http://96.126.101.177:8000/api/v0.1/inflation/tables
Content-Type: application/json

{
	"ticker": "tbl.ipca515_cores"
}
#+end_src


* ECONSERIES API
** SERIES                                                                  
  :PROPERTIES:
  :Object:   SERIES
  :END:
  
*** GET series
   :PROPERTIES:
   :Method:   GET
   :END:

#+begin_src http :pretty
GET http://127.0.0.1:8000/api/v0.1/econseries?tickers=ibge.1621/p/all/v/584/c11255/90707&date_ini=2012-01-01
#+end_src



*** POST observations
   :PROPERTIES:
   :Method:   POST
   :END:
   
   
#+header: :var source="fred" database="series-temporais" limit=10
#+begin_src http
POST http://127.0.0.1:8000/api/v0.1/econseries
Content-Type: application/json

{
	"source": "${source}",
	"database": "${database}",
	"limit": "${limit}"

}
#+end_src



** TABLES
  :PROPERTIES:
  :Object:   TABLES
  :END:
  
*** GET TABLES
   :PROPERTIES:
   :Method:   GET
   :END:
   
#+begin_src http :pretty
GET http://96.126.101.177:8000/inflation/api/v0.1/tables?ticker=tbl.ipca_cores
#+end_src

#+RESULTS:
#+begin_example
{
  "ticker": "TBL.IPCA_CORES",
  "description": "TABLE A SER ENVIADA PARA BROADCAST (IPCA)",
  "series": [
    "IPCA.CORE_EXO",
    "IBGE.IPCA/P/ALL/V/63/C315/7169",
    "IPCA.CORE_DIFUSAO",
    "IPCA.CORE_EX1",
    "IPCA.CORE_APARADAS",
    "IPCA.CORE_SERVICOS",
    "IPCA.CORE_DURAVEIS",
    "IPCA.CORE_MONITORADOS",
    "IPCA.SERVICOS",
    "IPCA.CORE_EX2",
    "IPCA.CORE_P55",
    "IPCA.CORE_TRADABLES",
    "IPCA.CORE_APARADAS_SUAVIZADAS",
    "IPCA.CORE_EX3",
    "IPCA.CORE_LIVRES",
    "IPCA.CORE_DP"
  ]
}
#+end_example






*** POST Tables

   :PROPERTIES:
   :Method:   POST
   :END:
   
#+begin_src http
POST http://127.0.0.1:8000/inflation/api/v0.1/tables
Content-Type: application/json

{
	"ticker": "tbl.ipca_cores",
	"description": "Table a ser enviada para Broadcast (IPCA)",
	"series": [
    "IBGE.IPCA/P/ALL/V/63/C315/7169",
	"ipca.core_exo", 
	"ipca.core_ex1", 
	"ipca.core_ex2",
	"ipca.core_ex3",
	"ipca.servicos",
	"ipca.core_servicos",
	"ipca.core_monitorados",
	"ipca.core_livres",
	"ipca.core_duraveis",
	"ipca.core_tradables",
	"ipca.core_aparadas",
	"ipca.core_aparadas_suavizadas",
	"ipca.core_dp",
	"ipca.core_p55", 
    "ipca.core_difusao"]
}
#+end_src

#+RESULTS:
: HTTP/1.1 200 OK
: date: Tue, 04 May 2021 17:13:37 GMT
: server: uvicorn
: content-length: 31
: content-type: application/json
: 
: "Table tbl.ipca_cores created!"


*** PUT observations
   :PROPERTIES:
   :Method:   PUT
   :END:
   
#+begin_src http
PUT http://96.126.101.177:8000/inflation/api/v0.1/tables
Content-Type: application/json

{
	"ticker": "tbl.ipca_cores",
	"description": "Tabela a ser enviada para Broadcast",
	"series": [
    "IBGE.IPCA/P/ALL/V/63/C315/7169",
	"ipca.core_exo", 
	"ipca.core_ex1", 
	"ipca.core_ex2",
	"ipca.core_ex3",
	"ipca.servicos",
	"ipca.core_servicos",
	"ipca.core_monitorados",
	"ipca.core_livres",
	"ipca.core_duraveis",
	"ipca.core_tradables",
	"ipca.core_aparadas",
	"ipca.core_aparadas_suavizadas",
	"ipca.core_dp",
	"ipca.core_p55", 
    "ipca.core_difusao"]
}
#+end_src

#+RESULTS:
: HTTP/1.1 200 OK
: date: Thu, 22 Apr 2021 21:33:29 GMT
: server: uvicorn
: content-length: 34
: content-type: application/json
: 
: "Table tbl.ipca_cores modified!"


*** DELETE table
   :PROPERTIES:
   :Method:   DELETE
   :END:
   
#+header: :var ticker="tbl.ipcaa5_cores"
#+begin_src http
DELETE http://96.126.101.177:8000/inflation/api/v0.1/tables
Content-Type: application/json

{
	"ticker": "tbl.ipca515_cores"
}
#+end_src





* VENCIMENTOS API
** SERIES                                                                  
  :PROPERTIES:
  :Object:   SERIES
  :END:
  
*** GET series
   :PROPERTIES:
   :Method:   GET
   :END:

#+begin_src http :pretty
GET http://127.0.0.1:8000/api/v0.1/econseries?tickers=ibge.1621/p/all/v/584/c11255/90707&date_ini=2012-01-01
#+end_src


*** POST observations
   :PROPERTIES:
   :Method:   POST
   :END:
   
   
#+header: :var source="fred" database="series-temporais" limit=10
#+begin_src http
POST http://127.0.0.1:8000/api/v0.1/econseries
Content-Type: application/json

{
	"source": "${source}",
	"database": "${database}",
	"limit": "${limit}"

}
#+end_src



** TABLES
  :PROPERTIES:
  :Object:   TABLES
  :END:
  
*** GET TABLES
   :PROPERTIES:
   :Method:   GET
   :END:
   
#+begin_src http :pretty
GET http://96.126.101.177:8000/inflation/api/v0.1/tables?ticker=tbl.ipca_cores
#+end_src


*** POST Tables

   :PROPERTIES:
   :Method:   POST
   :END:
   
   

*** PUT observations
   :PROPERTIES:
   :Method:   PUT
   :END:
   
#+begin_src http
PUT http://96.126.101.177:8000/inflation/api/v0.1/tables
Content-Type: application/json

{
	"ticker": "tbl.ipca_cores",
	"description": "Tabela a ser enviada para Broadcast",
	"series": [
    "IBGE.IPCA/P/ALL/V/63/C315/7169",
	"ipca.core_exo", 
	"ipca.core_ex1", 
	"ipca.core_ex2",
	"ipca.core_ex3",
	"ipca.servicos",
	"ipca.core_servicos",
	"ipca.core_monitorados",
	"ipca.core_livres",
	"ipca.core_duraveis",
	"ipca.core_tradables",
	"ipca.core_aparadas",
	"ipca.core_aparadas_suavizadas",
	"ipca.core_dp",
	"ipca.core_p55", 
    "ipca.core_difusao"]
}
#+end_src


*** DELETE table
   :PROPERTIES:
   :Method:   DELETE
   :END:
   
#+header: :var ticker="tbl.ipcaa5_cores"
#+begin_src http
DELETE http://96.126.101.177:8000/inflation/api/v0.1/tables
Content-Type: application/json

{
	"ticker": "tbl.ipca515_cores"
}
#+end_src




* SEARCH
  :PROPERTIES:
  :Object:   SEARCHES
  :END:

** GET SEARCH
   :PROPERTIES:
   :Method:   GET
   :END:

   #+begin_src http :pretty
   GET http://96.126.101.177:8000/solr/ipca/select?q=description:gasolina&wt=json
   #+end_src





   



